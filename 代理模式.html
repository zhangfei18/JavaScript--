<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代理模式</title>
</head>
<body>
    <script>
        // 代理模式
        // 虚拟代理---实现图片懒加载
        class PreImage{
            constructor(imgNode){
                this.imgNode = imgNode;
            }
            setSrc(src){
                this.imgNode.src = src;
            }
        }
        class ProxyImage{
            static LOADING_URL = 'xxxxxx'
            constructor(tarImgNode){
                this.tarImgNode = tarImgNode;//PreImage的实例
            }
            setSrc(tarUrl){
                let virImage = new Image();
                virImage.onload = ()=>{
                    this.tarImgNode.setSrc(tarUrl);
                }
                virImage.src = tarUrl;

            }
        }
    </script>
</body>
</html>